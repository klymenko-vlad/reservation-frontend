import{d as r,a0 as i,a3 as n,a1 as d,U as a,a2 as m,_ as p,r as u,c,o as f}from"./index-BMk5XanW.js";import{A as w}from"./AuthForm-ZPmJtAQ6.js";import{e as T,p as h,r as o}from"./VTextField-ClJQclJv.js";import"./VSelect-bov1_OvQ.js";const b=r({components:{AuthForm:w},data(){return{buttonText:"Sign Up",linkText:"Already have an account? Log in",linkTo:a.LOGIN,isLoading:!1,form:{}}},computed:{fields(){return[{label:"Email",model:"email",type:"email",rules:T},{label:"Password",model:"password",type:"password",rules:h},{label:"Confirm Password",model:"confirmPassword",type:"password",rules:[o("Please confirm your password"),e=>e===this.form.password||"Passwords do not match"]},{label:"First Name",model:"name",type:"text",rules:[]},{label:"Last Name",model:"lastName",type:"text",rules:[]},{label:"Role",model:"role",type:"select",options:[{title:"User",value:"USER"},{title:"Host",value:"HOST"}],rules:[o("Role is required")]}]}},methods:{...i(m,["success"]),async handleSignUp(e){this.isLoading=!0;try{await n({email:e.email,password:e.password,name:e.name,lastName:e.lastName,role:e.role}),await d({email:e.email,password:e.password}),this.success("Account created successfully!"),await this.$router.push(a.PROFILE)}finally{this.isLoading=!1}}}});function g(e,s,y,k,S,U){const t=u("AuthForm");return f(),c(t,{fields:e.fields,buttonText:e.buttonText,linkText:e.linkText,linkTo:e.linkTo,onSubmit:e.handleSignUp,"onUpdate:form":s[0]||(s[0]=l=>e.form=l),loading:e.isLoading},null,8,["fields","buttonText","linkText","linkTo","onSubmit","loading"])}const N=p(b,[["render",g]]);export{N as default};
