import{d as p,_ as f,r as V,c as s,o as r,w as a,a as l,V as b,b as n,t as i,e as y,f as c,a4 as h,j as m,k,F as g,l as F,$ as T,h as S,i as v}from"./index-BMk5XanW.js";import{V as $,a as C}from"./VTextField-ClJQclJv.js";import{a as w}from"./VSelect-bov1_OvQ.js";const B=p({name:"AuthForm",props:{fields:{type:Array,required:!0},buttonText:{type:String,required:!0},linkText:{type:String,required:!0},linkTo:{type:String,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["submit","update:form"],data(){const e={};return this.fields.forEach(o=>{e[o.model]=o.type==="select"&&o.options?.[0]?o.options[0].value:""}),{form:e,isFormValid:!1}},methods:{initializeForm(){const e={};return this.fields.forEach(o=>{e[o.model]=o.type==="select"&&o.options?.[0]?o.options[0].value:""}),e},async handleSubmit(){const e=this.$refs.formRef,{valid:o}=await e.validate();o&&this.$emit("submit",this.form)}},watch:{fields:{handler(){this.form=this.initializeForm()},deep:!0},form:{handler(e){this.$emit("update:form",e)},deep:!0}}}),A={class:"mt-4 text-center"};function U(e,o,q,N,E,R){const u=V("router-link");return r(),s(v,{class:"mx-auto my-12","max-width":"400"},{default:a(()=>[l(b,{class:"text-h5 text-center"},{default:a(()=>[n(i(e.buttonText),1)]),_:1}),l(y,null,{default:a(()=>[l($,{ref:"formRef",modelValue:e.isFormValid,"onUpdate:modelValue":o[0]||(o[0]=t=>e.isFormValid=t),onSubmit:h(e.handleSubmit,["prevent"])},{default:a(()=>[(r(!0),m(g,null,F(e.fields,t=>(r(),m("div",{key:t.model,class:"mb-4"},[t.type==="select"&&t.options?(r(),s(w,{key:0,modelValue:e.form[t.model],"onUpdate:modelValue":d=>e.form[t.model]=d,label:t.label,items:t.options,disabled:e.loading,rules:t.rules||[]},null,8,["modelValue","onUpdate:modelValue","label","items","disabled","rules"])):(r(),s(C,{key:1,modelValue:e.form[t.model],"onUpdate:modelValue":d=>e.form[t.model]=d,label:t.label,type:t.type,disabled:e.loading,rules:t.rules||[]},null,8,["modelValue","onUpdate:modelValue","label","type","disabled","rules"]))]))),128)),e.error?(r(),s(T,{key:0,type:"error",class:"mb-4",density:"compact"},{default:a(()=>[n(i(e.error),1)]),_:1})):k("",!0),l(S,{type:"submit",color:"primary",block:"",loading:e.loading,disabled:e.loading},{default:a(()=>[n(i(e.buttonText),1)]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue","onSubmit"]),c("div",A,[l(u,{to:e.linkTo},{default:a(()=>[n(i(e.linkText),1)]),_:1},8,["to"])])]),_:1})]),_:1})}const L=f(B,[["render",U]]);export{L as A};
