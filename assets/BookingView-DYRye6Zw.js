import{d,a0 as i,bv as n,a2 as u,_ as m,c as f,o as V,w as o,a as t,n as p,m as D,i as g,V as y,b as r,e as b,a4 as S,h as k,Z as B}from"./index-BMk5XanW.js";import{f as w,V as C,a as l}from"./VTextField-ClJQclJv.js";const R=d({name:"BookingView",props:{id:{type:String,required:!0}},data(){return{startDate:"",endDate:"",loading:!1,formValid:!0,formRules:w}},methods:{...i(u,["success"]),async submitBooking(){if(this.formValid){this.loading=!0;try{const e={propertyId:this.id,startDate:new Date(this.startDate).toISOString(),endDate:new Date(this.endDate).toISOString(),status:"CONFIRMED"};await n(e),this.success("Booking confirmed!"),this.resetForm()}finally{this.loading=!1}}},resetForm(){this.startDate="",this.endDate="",this.formValid=!0}}});function h(e,a,F,T,I,$){return V(),f(B,{class:"py-8"},{default:o(()=>[t(p,{justify:"center"},{default:o(()=>[t(D,{cols:"12",sm:"8",md:"6"},{default:o(()=>[t(g,null,{default:o(()=>[t(y,null,{default:o(()=>[...a[3]||(a[3]=[r("Book Your Stay",-1)])]),_:1}),t(b,null,{default:o(()=>[t(C,{modelValue:e.formValid,"onUpdate:modelValue":a[2]||(a[2]=s=>e.formValid=s),onSubmit:S(e.submitBooking,["prevent"])},{default:o(()=>[t(l,{modelValue:e.startDate,"onUpdate:modelValue":a[0]||(a[0]=s=>e.startDate=s),label:"Start Date",type:"date",required:"",rules:[e.formRules.date]},null,8,["modelValue","rules"]),t(l,{modelValue:e.endDate,"onUpdate:modelValue":a[1]||(a[1]=s=>e.endDate=s),label:"End Date",type:"date",required:"",rules:[e.formRules.date,e.formRules.endDateAfterStart(e.startDate)]},null,8,["modelValue","rules"]),t(k,{type:"submit",color:"primary",loading:e.loading,disabled:!e.formValid||e.loading,block:"",class:"mt-4"},{default:o(()=>[...a[4]||(a[4]=[r(" Confirm Booking ",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const N=m(R,[["render",h]]);export{N as default};
